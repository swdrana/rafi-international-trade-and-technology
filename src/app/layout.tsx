import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import Navbar from "@/components/Navber";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

// ‡¶Æ‡ßá‡ßü‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ
const EXPIRY_DATE = new Date("2025-02-16T16:40:00Z");

// ‡¶Æ‡ßá‡ßü‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
const isExpired = () => new Date() > EXPIRY_DATE;

// **SEO ‡¶´‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶≤‡¶ø Metadata ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®**
export async function generateMetadata(): Promise<Metadata> {
  const expired = isExpired();
  return {
    title: expired ? "Hosting Expired - Contact Developer" : "Create Next App",
    description: expired
      ? "Hosting has expired. Please contact the developer."
      : "Generated by create next app",
  };
}

export default function RootLayout({ children }: { children: React.ReactNode }) {
  const expired = isExpired();

  return (
    <html lang="en">
      <body className={`${geistSans.variable} ${geistMono.variable} antialiased`}>
        {!expired ? (
          <>
            <Navbar />
            {children}
          </>
        ) : (
          <div className="flex flex-col items-center justify-center min-h-screen bg-red-100 text-red-600 text-center p-6">
            <h1 className="text-3xl font-bold">‚ö† ‡¶π‡ßã‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶Æ‡ßá‡ßü‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá</h1>
            <p className="mt-2 text-lg">‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <div className="mt-4 p-4 bg-white rounded shadow">
              <p className="text-lg font-semibold">‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø:</p>
              <p>üë§ ‡¶®‡¶æ‡¶Æ: SWD Rana</p>
              <p>üìß ‡¶á‡¶Æ‡ßá‡¶á‡¶≤: codingbengal@gmail.com</p>
              <p>
                üåê ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü:{" "}
                <a href="https://swdrana.com" className="text-blue-500 underline" target="_blank">
                  swdrana.com
                </a>
              </p>
              <p>
                üåê ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï:{" "}
                <a href="https://facebook.com/swdrana" className="text-blue-500 underline" target="_blank">
                  facebook.com/swdrana
                </a>
              </p>
            </div>
          </div>
        )}
      </body>
    </html>
  );
}
